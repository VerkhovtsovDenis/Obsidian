В данном документе описывается процесс эксплуатации уязвимости, связанной с **неправильной конфигурацией аутентификации в MySQL/MariaDB**. Конкретно, уязвимость заключается в том, что сервер MySQL/MariaDB позволяет подключаться к базе данных без пароля, используя учетную запись **root**, которая имеет наивысшие привилегии в системе.

### Шаги эксплуатации уязвимости:

1. **Обнаружение сервиса MySQL/MariaDB**:
    
    - С помощью сканирования `nmap` был обнаружен открытый порт 3306, на котором работает MySQL/MariaDB версии 5.5.5-10.3.27-MariaDB-0+deb10ul.
        
2. **Попытка подключения без пароля**:
    
    - Используя команду `mysql -h {target_IP} -u root`, злоумышленник пытается подключиться к серверу баз данных от имени пользователя `root` без указания пароля.
        
    - В данном случае подключение успешно, что указывает на то, что сервер не требует пароля для учетной записи `root`.
        
3. **Исследование баз данных и таблиц**:
    
    - После успешного подключения злоумышленник использует команды SQL для исследования доступных баз данных и таблиц:
        
        - `SHOW databases;` — показывает список доступных баз данных.
            
        - `USE htb;` — выбирает базу данных `htb` для дальнейшего исследования.
            
        - `SHOW tables;` — показывает список таблиц в выбранной базе данных.
            
        - `SELECT * FROM config;` — извлекает все данные из таблицы `config`, где находится флаг.
            
4. **Получение флага**:
    
    - В таблице `config` злоумышленник находит флаг, который является целью взлома.
        

### Уязвимость:

Уязвимость, которую эксплуатируют в данном случае, — это **отсутствие пароля для учетной записи root** в MySQL/MariaDB. Это является серьезной ошибкой конфигурации, так как учетная запись `root` имеет полный доступ ко всем базам данных и таблицам на сервере. В нормальных условиях доступ к этой учетной записи должен быть строго защищен паролем.

### Рекомендации по устранению уязвимости:

1. **Установка пароля для учетной записи root**:
    
    - Необходимо установить надежный пароль для учетной записи `root` в MySQL/MariaDB.
        
    - Это можно сделать с помощью команды:
        
        sql
        
        Copy
        
        ALTER USER 'root'@'localhost' IDENTIFIED BY 'strong_password';
        
2. **Ограничение удаленного доступа к root**:
    
    - По умолчанию учетная запись `root` должна быть доступна только с локального хоста (`localhost`). Если удаленный доступ для `root` не требуется, его следует отключить.
        
3. **Использование менее привилегированных учетных записей**:
    
    - Для повседневных операций следует использовать учетные записи с ограниченными привилегиями, а не `root`.
        
4. **Регулярный аудит конфигурации**:
    
    - Необходимо регулярно проверять конфигурацию сервера баз данных на наличие подобных уязвимостей.
        

Таким образом, уязвимость, которую эксплуатируют в данном случае, — это **отсутствие пароля для учетной записи root в MySQL/MariaDB**, что позволяет злоумышленнику получить полный доступ к базе данных без необходимости взлома пароля.