Вы уже познакомились с тем, как через командную строку можно узнать, в какой директории вы находитесь и что в ней содержится. В этом уроке вы погрузитесь в детали работы с командной строкой: разберётесь, как перемещаться по директориям, создавать новые папки и файлы, а также как редактировать файлы прямо из терминала.

## Навигация

В процессе экспериментов в командной строке вы могли покинуть домашнюю директорию пользователя. Чтобы вернуться в неё, можно закрыть терминал и открыть его снова, но есть и другой способ — вот такая команда:

```bash
cd ~ 
```

Символ «тильда» `~` — это символ домашней директории. На клавиатуре этот символ расположен, как правило, на верхней левой клавише, левее клавиши с цифрой 1.

Для перемещения из одной папки в другую используется команда `cd` (англ. _change directory_, «сменить каталог»)_._ Синтаксис у команды такой:

```bash
cd имя_директории 
```

А вот пример её использования:

```bash
# Перейти в директорию рабочего стола.
$ cd Desktop 

$ pwd
# Теперь вы здесь.
путь_к_директории/имя_пользователя/Desktop  
```

Если в названии директории есть пробелы, используйте кавычки:

```bash
$ cd 'Фотографии со дня рождения' 
```

Чтобы перейти в директорию уровнем выше, поставьте после `cd` пробел и две точки:

```bash
$ pwd
# Текущая директория.
путь_к_директории/имя_пользователя/Desktop 

# Перейти на уровень выше.
$ cd .. 

$ pwd
# И вот вы снова в директории текущего пользователя.
путь_к_директории/имя_пользователя 
```

Вы находитесь в директории _/Users/newUser_. Как посмотреть содержимое директории _/Users/newUser/pictures/photo_?

```bash
cd pictures/photo
pwd 
``` 

Правильный ответ

```bash
cd /Users/newUser/pictures/photo
ls 
``` 

Эта последовательность команд покажет то, что нужно!

```bash
cd photo
ls 
``` 

```bash
cd /Users/newUser/pictures/photo
pwd 
``` 

Правильный ответ

```bash
cd ..
cd newUser/pictures/photo
ls 
``` 

Такая последовательность команд сработает.

## Новые директории и файлы

Ваша следующая задача — через командную строку создать на своём компьютере директорию для учебных проектов, она будет называться **Dev**.

**Если у вас Windows**, разместите директорию _Dev_ в корне диска D, если его нет, то выбирайте диск C.

```bash
# Чтобы перейти, например, на диск D, введите команду:
~$ cd D: 
```

**Если у вас Linux или macOS**, разместите папку _Dev_ в домашней директории текущего пользователя.

Перейдите через терминал в нужную директорию. Далее введите команду `mkdir` (англ. _make directory_, «создать директорию»), через пробел укажите имя новой папки и нажмите **Enter**:

```bash
# Создать папку Dev в текущей директории.
$ mkdir Dev  
```

Директория для учебных проектов создана.

Далее перейдите в директорию _Dev_, создайте в ней дочернюю директорию _first_project_ и перейдите в неё. Для этого выполните по очереди команды:

```bash
$ cd Dev
$ mkdir first_project
$ cd first_project 
```

Теперь создайте в директории _first_project_ два файла: _practicum.py_ и _example.txt_. Чтобы это сделать, введите в терминал команду `touch` (англ. «коснуться») и укажите имя файла с расширением:

```bash
# Cоздать файл practicum.py в текущей папке.
$ touch practicum.py 
# Cоздать файл example.txt в текущей папке.
$ touch example.txt  
```

Выполните команду `ls`, чтобы убедиться в том, что нужные файлы были созданы. Результат работы команды должен быть приблизительно таким:

```bash
~/Dev/first_project$ ls
example.txt practicum.py
~/Dev/first_project$ 
```

## Редактирование файлов через терминал

Вы создали два файла:

- _example.txt_ — обычный текстовый файл;
- _practicum.py_ — файл для кода на языке Python.

Сейчас вашей задачей будет написать код на Python не в тренажёре, а в специально предназначенном для этого файле.

Вообще, писать код можно где угодно, даже в текстовом редакторе. Но, например, при работе на сервере у вас, скорее всего, не будет программ с графическим интерфейсом. И тогда вам понадобится инструмент, который будет запускаться из терминала и работать в текстовом режиме, например встроенный текстовый редактор **Nano**.

Откройте файл _practicum.py_ через Nano. Для этого, находясь в директории _first_project_, введите в терминал команду:

```bash
nano practicum.py 
```

Перед вами должно открыться окно редактора:

![На скриншоте — интерфейс редактора Nano с пустой рабочей областью.](https://pictures.s3.yandex.net/resources/image_1702053422.png)

В этом редакторе все действия выполняются только с помощью клавиатуры, без мыши. В нижней части окна описаны комбинации клавиш для управления программой; символ `^` обозначает комбинацию с клавишей **Ctrl**.

В Linux и macOS справку по работе с редактором Nano можно получить через команду `man` (сокращение от _manual_). Эта команда даёт возможность получить инструкции к командам и программам. Инструкцию для Nano можно получить так: `man nano`. Чтобы перемещаться по руководству, используйте клавиши со стрелками вверх и вниз. Для выхода из руководства нажмите `q`.

В Windows справка доступна через команду `nano --help`.

Когда программа Nano запущена — справочную информацию можно открыть сочетанием клавиш `Ctrl+G`.

Напишите свою первую программу в редакторе.

Пусть она выводит приветствие Практикуму: `print('Привет, Практикум!')`

![На скриншоте — интерфейс редактора Nano. В рабочей области одна строка: print('Привет, Практикум!').](https://pictures.s3.yandex.net/resources/image_1702053430.png)

`Сохраните` изменения и `закройте` редактор.

## Удаление директорий и файлов

Чтобы что-то удалить, нужно это что-то сначала создать. У вас уже есть папка _first_project_, но она вам пригодится в следующих уроках, поэтому удалять её не нужно. Через терминал перейдите в директорию _Dev_ и создайте две новые папки: _second_project_ и _third_project_.

Находясь в корневой директории, какие команды вы будете использовать для этого?

```bash
mkdir second_project
mkdir third_project 
``` 

```bash
cd путь_до_директории/Dev
touch second_project 
touch third_project 
``` 

Правильный ответ

```bash
cd путь_до_директории/Dev
mkdir second_project 
mkdir third_project 
``` 

Такой набор команд подходит!

Правильный ответ

```bash
mkdir путь_до_директории/Dev/second_project
mkdir путь_до_директории/Dev/third_project 
``` 

Создать директорию, указав полный путь до неё, — отличное решение!

Директорию _second_project_ оставьте пустой, а в директории _third_project_ создайте два файла: _bolek.txt_ и _lelek.txt_.

Какие команды вам в этом помогут?

```bash
cd путь_до_директории/Dev
touch bolek.txt 
touch lelek.txt 
``` 

```bash
cd путь_до_директории/Dev/third_project 
mkdir bolek.txt 
mkdir lelek.txt 
``` 

Правильный ответ

```bash
cd путь_до_директории/Dev/third_project 
touch bolek.txt 
touch lelek.txt 
``` 

Подходящий набор команд. Ответ засчитан!

Всё готово для того, чтобы тренироваться удалять созданное. Из директории _third_project_ удалите файл _bolek.txt_.

Для удаления файлов используется команда `rm` (англ. _remove_, «удалить»):

```bash
rm имя_файла 
```

Передайте команде имя файла:

```bash
# Dev/third_project/

# Удалить файл bolek.txt из текущей директории.
$ rm bolek.txt  
```

Теперь перейдите в директорию _Dev_ и удалите из неё пустую директорию _second_project_. В этом вам поможет команда `rmdir` (англ. _remove directory_, «удалить директорию»):

```bash
# Dev/

# Удалить директорию second_project из текущей директории, 
# если директория second_project пуста.
$ rmdir second_project  
```

Теперь этой же командой попробуйте удалить директорию _third_project_.

Что вы видите в терминале?

Правильный ответ

Предупреждение Directory not empty.

Действительно, директорию нельзя удалить командой `rmdir`, если в ней что-то содержится.

Ничего. Директория просто удалится.

Если в директории, которую вы пытаетесь стереть, есть какие-то файлы, то команда `rmdir` не удалит её и выведет сообщение, что директория не пуста:

```bash
~$ rmdir images
rmdir: images: Directory not empty
~$ 
```

Это защита от случайного удаления нужных файлов. Если директорию всё-таки нужно удалить вместе со всем её содержимым, то можно использовать команду `rm` с ключом `-r`:

```bash
# Удалить директорию third_project со всем её содержимым.
$ rm -r third_project  
```

Ключ `-r` (англ. _recursive_, «рекурсивный») отвечает за рекурсивное удаление файлов и директорий. То есть команда удаления будет последовательно применяться к каждому из элементов, находящихся внутри указанной директории, пока наконец не сотрёт их все. После чего удалит и опустевшую к тому моменту директорию.

Например, когда вы вызываете команду `rm` с ключом `-r` для директории _third_project_, то сначала удаляются все хранящиеся в ней файлы, а именно _lelek.txt_, а после — и сама директория _third_project_.

❗ Будьте аккуратны, удаление файлов и папок командами `rm` и `rmdir` необратимо — они исчезают навсегда.

Соотнесите команду и действие, которое она выполняет.

rm

Удаляет директорию или файл

`rm` — от англ. remove, «удалить».

rmdir

Удаляет директорию

`rmdir` — от англ. remove directory, «удалить директорию».

mkdir

Создаёт новую директорию

`mkdir` — от англ. make directory, «создать директорию».

cd

Переходит в указанную директорию

`cd` — от англ. change directory, «сменить директорию».

touch

Создаёт новый файл

`touch` — от англ. touch, «коснуться».

Начать заново

## Лайфхаки

Все имена файлов и папок не упомнить. Но bash умеет подсказывать адреса директорий, вложенных в папку, в которой вы находитесь. Достаточно ввести несколько начальных букв из названия нужной папки и нажать клавишу **Tab**.

Например, вот так:

```bash
# Осматриваем директорию, в которой находимся.
$ ls
Python3/
Users/
BIOS/
'Program Files'/
Recovery/

# Хотим попасть в папку Users, но лень набирать такое длинное название,
# набираем...
$ cd U
# Если на этой стадии нажать Tab, Bash допишет команду.
$ cd Users 
```

В каталоге может быть несколько файлов или папок, названия которых начинаются одинаково. Например: _diploma_ver_1_, _diploma_ver_2_ и _diploma_ver_may_be_final_.

Если в такой ситуации набрать `diploma` и дважды нажать **Tab**, в терминале появится список файлов и директорий, имена которых начинаются с _diploma_:

```bash
cd diploma
# diploma.txt diploma_ver_1/  diploma_ver_2/  diploma_ver_may_be_final/ 
```

Чтобы терминал понял, какое имя вам нужно, напишите достаточное количество символов:

```bash
$ cd diploma_ver_m
# Вот здесь нажатие Tab уже даст нужный результат.
$ cd diploma_ver_may_be_final/ 
```

Также Bash хранит историю команд. Если нажимать клавишу «Вверх» ↑, то в строке начнут появляться команды, выполненные ранее. Этим механизмом удобно пользоваться, например, когда нужно повторить какую-то команду.

Основы техники тайного искусства управления компьютером без иконок и мышки изложены. Отсутствие графического интерфейса теперь не помеха, всё как в «Матрице» — смотрите на буквы и видите ~~женщину в красном~~ директории и файлы.

![На иллюстрации — та самая женщина в красном, и те самые директории и файлы.](https://pictures.s3.yandex.net/resources/image_1701327482.png)

💡 А чтобы базовые команды для работы в терминале всегда были под рукой — скачивайте [шпаргалку](https://code.s3.yandex.net/backend-developer/learning-materials/%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B%20%D0%B2%20%D1%82%D0%B5%D1%80%D0%BC%D0%B8%D0%BD%D0%B0%D0%BB%D0%B5.pdf).