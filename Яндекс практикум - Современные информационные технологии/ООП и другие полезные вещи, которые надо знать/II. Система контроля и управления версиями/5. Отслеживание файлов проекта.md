# Отслеживание файлов проекта

Система контроля версий Git позволяет разработчикам видеть всю хронологию изменений кода проекта. Но прежде чем перейти к практическому применению этой возможности, разберёмся, как работает сам механизм. И начнём мы с понятия **индекса**.

Когда файл впервые добавляется в репозиторий, Git это замечает. Но когда вы вносите изменения в этот файл, они не фиксируются в репозитории автоматом. Для того чтобы зафиксировать эти изменения, необходимо выполнить два шага:

1. **Добавить файл в индекс** с помощью команды `git add <имя файла>`. Это действие помещает ваши изменения в файле в область подготовки.
2. **Закоммитить изменения из индекса** с помощью команды `git commit`. После этой команды изменения из области подготовки переносятся в репозиторий с соответствующим коммит-сообщением.

В контексте Git «индекс» — это специальное пространство, которое служит промежуточной стадией между вашей рабочей директорией и репозиторием. Иногда индекс также называют «областью подготовки» или _staging area_.

![](https://pictures.s3.yandex.net/resources/image_1702056223.png)

Индекс позволяет контролировать, какие именно изменения должны быть включены в следующий **коммит** — все или только определённые.

Коммит представляет собой набор изменений, который сохраняется в истории репозитория с уникальным идентификатором, а также дополнительной информацией (комментарий, автор, дата).

Когда говорят «файлы были закоммичены», имеют в виду, что изменения в этих файлах были зафиксированы в репозитории. После коммита эти изменения становятся частью истории репозитория и могут быть просмотрены, восстановлены или с ними можно работать любым другим способом, который предоставляет Git.

Звучит немного путано, однако на практике это очень удобно. В жизни мы часто действуем схожим образом.

Например, давайте представим, что Git — это альбом с фотографиями вашего проекта. Тогда:

- **Инициализация репозитория (git init)** — это создание (или покупка) нового пустого фотоальбома для ваших фотографий.
- **Директория проекта** — это ваша комната, где лежат разбросанные фотографии, которые вы хотите добавить в альбом. Каждая фотография — это файл в вашем проекте.
- **Индекс (staging area).** Прежде чем поместить фотографии в альбом, вы решаете, какие из них будут добавлены. Вы отбираете их и кладёте на столик рядом с альбомом. Этот столик — это область подготовки (индекс).
- **Коммит (git commit).** Теперь, когда вы решили, какие фотографии хотите добавить в альбом, вы вклеиваете их на страницы и добавляете комментарий: «Стасику Басову годик», «Стасику — два года!», «Стасу пять лет». Каждое вклеивание — это как коммит: вы фиксируете текущий «снимок» вашего проекта в истории.

## Статусы файлов проекта

Файлы проекта могут иметь различные статусы в зависимости от их состояния в директории проекта, индексе и репозитории.

Вот основные статусы файлов:

1. **Untracked (неотслеживаемый):** это файлы, которые присутствуют в вашем рабочем каталоге, но которые ещё не были добавлены в индекс и не имеют коммитов в истории Git. Любой новый файл остаётся в этом статусе, пока вы не добавите его в индекс с помощью команды `git add`.
2. **Unmodified (неизменённый):** это отслеживаемые файлы, которые не подверглись изменениям с момента последнего коммита. Они присутствуют в индексе без изменений.
3. **Modified (изменённый):** файлы, которые были изменены после последнего коммита, но изменения ещё не добавлены в индекс — то есть вы внесли изменения в файл, но не выполнили команду `git add` для этих файлов.
4. **Staged (подготовленный к коммиту):** это файлы, которые были изменены и добавлены в индекс, но ещё не были закоммичены. Изменённые файлы переходят в этот статус после выполнения команды `git add`. Эти файлы будут включены в коммит при выполнении команды `git commit`.

![](https://pictures.s3.yandex.net/resources/image_1709630733.png)